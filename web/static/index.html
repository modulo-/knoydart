<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
        xmlns="http://www.w3.org/1999/xhtml"
        xml:lang="en-US"
        lang="en-US">
<head>
    <!-- ****** faviconit.com favicons ****** -->
    <!-- Basic favicons -->
    <link rel="shortcut icon" sizes="16x16 32x32 48x48 64x64" href="favicons/favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="favicons/favicon.ico">
    <!--[if IE]>
    <link rel="shortcut icon" href="favicons/favicon.ico"><![endif]-->
    <!-- For Opera Speed Dial -->
    <link rel="icon" type="image/png" sizes="195x195" href="favicons/favicon-195.png">
    <!-- For iPad with high-resolution Retina Display running iOS ≥ 7 -->
    <link rel="apple-touch-icon" sizes="152x152" href="favicons/favicon-152.png">
    <!-- For iPad with high-resolution Retina Display running iOS ≤ 6 -->
    <link rel="apple-touch-icon" sizes="144x144" href="favicons/favicon-144.png">
    <!-- For iPhone with high-resolution Retina Display running iOS ≥ 7 -->
    <link rel="apple-touch-icon" sizes="120x120" href="favicons/favicon-120.png">
    <!-- For iPhone with high-resolution Retina Display running iOS ≤ 6 -->
    <link rel="apple-touch-icon" sizes="114x114" href="favicons/favicon-114.png">
    <!-- For Google TV devices -->
    <link rel="icon" type="image/png" sizes="96x96" href="favicons/favicon-96.png">
    <!-- For iPad Mini -->
    <link rel="apple-touch-icon" sizes="76x76" href="favicons/favicon-76.png">
    <!-- For first- and second-generation iPad -->
    <link rel="apple-touch-icon" sizes="72x72" href="favicons/favicon-72.png">
    <!-- For non-Retina iPhone, iPod Touch and Android 2.1+ devices -->
    <link rel="apple-touch-icon" href="faviconsfavicons/favicon-57.png">
    <!-- Windows 8 Tiles -->
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="favicons/favicon-144.png">
    <!-- ****** faviconit.com favicons ****** -->

    <title>The power of Knoydart</title>

    <script type="application/javascript" src="js/jquery-2.1.0.min.js"></script>
    <script type="application/javascript" src="js/highcharts.js"></script>
    <script type="application/javascript" src="js/highcharts-more.js"></script>
    <script type="application/javascript" src="js/compatability.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-49900046-1', 'modulo.ee');
      ga('send', 'pageview');

    </script>

    <link rel="stylesheet" href="fancybox/jquery.fancybox.css" type="text/css" media="screen" />
    <script type="text/javascript" src="fancybox/jquery.fancybox.pack.js"></script>

    <script type="application/javascript" src="js/chart.js"></script>
</head>

<body>
<div id="fb-root"></div>
<script type="text/javascript">
  var me = {};

  window.fbAsyncInit = function() {
  FB.init({
    appId      : '640371439369954',
    status     : true, // check login status
    cookie     : true, // enable cookies to allow the server to access the session
    xfbml      : true  // parse XFBML
  });

  // Here we subscribe to the auth.authResponseChange JavaScript event. This event is fired
  // for any authentication related change, such as login, logout or session refresh. This means that
  // whenever someone who was previously logged out tries to log in again, the correct case below
  // will be handled.
  FB.Event.subscribe('auth.authResponseChange', function(response) {
    // Here we specify what we do with the response anytime this event occurs.
    if (response.status === 'connected') {
      // The response object is returned with a status field that lets the app know the current
      // login status of the person. In this case, we're handling the situation where they
      // have logged in to the app.
      testAPI();
    } else if (response.status === 'not_authorized') {
      // In this case, the person is logged into Facebook, but not into the app, so we call
      // FB.login() to prompt them to do so.
      // In real-life usage, you wouldn't want to immediately prompt someone to login
      // like this, for two reasons:
      // (1) JavaScript created popup windows are blocked by most browsers unless they
      // result from direct interaction from people using the app (such as a mouse click)
      // (2) it is a bad experience to be continually prompted to login upon page load.
      FB.login();
    } else {
      // In this case, the person is not logged into Facebook, so we call the login()
      // function to prompt them to do so. Note that at this stage there is no indication
      // of whether they are logged into the app. If they aren't then they'll see the Login
      // dialog right after they log in to Facebook.
      // The same caveats as above apply to the FB.login() call here.
      FB.login();
    }
  });
  };

  // Load the SDK asynchronously
  (function(d){
   var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
   if (d.getElementById(id)) {return;}
   js = d.createElement('script'); js.id = id; js.async = true;
   js.src = "//connect.facebook.net/en_US/all.js";
   ref.parentNode.insertBefore(js, ref);
  }(document));

  // Here we run a very simple test of the Graph API after login is successful.
  // This testAPI() function is only called in those cases.
  function testAPI() {
    FB.api('/me', function(response) {
      me.fb = response;
    });
  }
</script>

    <!--<div>-->
        <!--<img width='80%' height="100px" src="images/kf2.jpg" alt="Knoydart"/>-->
    <!--</div>-->

    <div id="chartContainer" style="width: 100%;">
    </div>

    <div style="height: 250px">
        <div id="statsContainer" style="height: 100%; width: 25%;float: left;background-color: #ffed61">
            <button value="Daily" onclick="redrawChart({compression:1, points:144, history_offset:1008})">Daily</button>
            <button value="Weekly" onclick="redrawChart({compression:7, points:144, history_offset:1008})">Weekly</button>
            <br/>
            <!--
              Below we include the Login Button social plugin. This button uses the JavaScript SDK to
              present a graphical Login button that triggers the FB.login() function when clicked. -->

            <fb:login-button show-faces="true" width="200" max-rows="1"></fb:login-button>
            <br/>
            Compression:<br/>
            1<input id="compression_val" type="number" name="gran" min="1" max="30" value=1  onchange="redrawChart({compression:this.value})" />30
            <br/>
            Points on chart:<br/>
            5<input id="dps_val" type="number" name="dps" min="5" max="300" value=25  onchange="redrawChart({points:this.value})" />300
            <br/>
            History offset:<br/>
            0<input id="hist_offset_val" type="number" name="dps" min="0" max="4000" value=1008  onchange="redrawChart({history_offset:this.value})" />1008
            <br/>
            Oldest Index:<br/>
            0<input id="lastIndex_val" type="number" name="lastIndex" min="0" max="4000" value=50  onchange="redrawChart({lastIndex:this.value})" />4000
        </div>

        <div id="commentContainer" style="height: 100%; width: 50%;float: right;overflow-y:scroll;font-family: Helvetica,Arial,'lucida grande',tahoma,verdana,arial,sans-serif;">
        </div>

        <div id="gaugeContainer" style="height: 100%; width: 25%;float: right;">
        </div>
    </div>
</body>
</html>

